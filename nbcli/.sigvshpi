#!/bin/bash

## Orca cli
function cli() {
  $HOME/Orca-c/build/debug/cli
}

## Orca modules path
omods=$HOME/orca-modules/modules

## sigv comps path
NBCLI=$HOME/nbcli

## sigv cli
function sigv() {
  if [[ "$1" == "--config" ]]
  then
    nano $HOME/nbcli/.sigvsh
  elif [[ "$1" == "-b" ]]
  then
    cd $HOME/nbcli && ls
  elif [[ "$1" == "--examples" ]]
  then
    cat $HOME/nbcli/_examples
  elif [[ "$1" == "-m" ]]
  then
    cp $HOME/nbcli/man/_template  $HOME/nbcli/man/"$2"
   elif [[ "$1" == "--mpub" ]]
  then
    cd $HOME/nbcli/man && pod2man "$2" > "$2".1 && pod2html "$2" > "$2".html && cp "$2".1 /usr/local/share/man/man1/"$2".1 && gzip /usr/local/share/man/man1/"$2".1
  elif [[ "$1" == "-j" ]]
  then
    echo "Launching sigv.js..."
    open $HOME/sigv.js/sigv-js-main/patchers/sigv-js-main.maxpat
  else
    echo "Launching sigv.js..."
    open $HOME/sigv.js/sigv-js-main/patchers/sigv-js-main.maxpat
    echo "Options: sigv -j [(default) launch sigv.js] -b [set directory to nbcli] --examples [display example code] -m [create new man page] --config [open sigv shell configuration]"
  fi
}

function help() {
  $HOME/nbcli/help "$@"
}

## Utilities
### Clear history buffer
function clearbuff() {
  clear && fc -p
}

### Scan/Read a file
function scan() {
  $HOME/nbcli/scan "$@"
}

### Window Title
function window() {
  echo -n -e "\033]0;$1\007"
}

### Random Password Generator
function rpg() {
  date | md5 | head -c $1 | pbcopy ; echo
  echo "copied to clipboard..."
}

### QR code utils
function qr() {
  if [[ "$1" == "-r" ]]
  then
    zbarimg $2
  else
    qrencode $1 -o $2
  fi
}

### History of commands
function histo() {
  history | cut -c 8-
}

## Systems Elements
function o() { $HOME/nbcli/o "$@" }

# mqtt : mqtt.js console implementation (mqtt help for more info)
function shiftr() { $HOME/nbcli/shiftr "$*" }

## Core Elements (sigv)

function lux() { $HOME/nbcli/lux "$@" } #TBD
function automata() { $HOME/nbcli/automata "$@" & }
function bbn() { $HOME/nbcli/bbn "$@" } #TBD
function serial() { $HOME/nbcli/serial "$@" } #TBD
function clock() { $HOME/nbcli/clock "$@" } #TBD
function timer() { $HOME/nbcli/timer "$@" }
function pattern() { $HOME/nbcli/pattern "$@" & } #TBD
function iter() { $HOME/nbcli/iter "$@" & }
function random() { $HOME/nbcli/random "$@" }
function rand() { $HOME/nbcli/rand "$@" }
function rand2() { $HOME/nbcli/rand2 "$@" }
function count() { $HOME/nbcli/count "$@" }
function gen() { $HOME/nbcli/gen "$@" & }
function ch() { $HOME/nbcli/ch "$@" }
function mod() { $HOME/nbcli/mod "$@" }
function usb() { $HOME/nbcli/usb "$@" }
function opz() { $HOME/nbcli/opz "$@" & }
function rnr() { $HOME/nbcli/rnr "$@" }
function rsr() { $HOME/nbcli/rsr "$@" }
function ipad() { $HOME/nbcli/ipad "$@" }
function oiio() { oiiotool "$*" }
function crow() { $HOME/nbcli/crow "$@" }

export PATH=$PATH:$HOME/nbcli
